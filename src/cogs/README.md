# ⚙ Commands & Functions

## addssl.py

`/addssl {URL}`

- {URL}の情報を指定のスプレッドシートに登録します。
- このスプレッドシートの内容は[SSL Checker](https://github.com/pistachiostudio/main/blob/main/docs/sslchecker.md)に使われます。

## apex_tracker.py

`/apexrank {platform} {user_id}`

- Apex Trackerから指定のプレイヤーのランクを取得します。

## autodelete.py

- チャンネルと時間を指定し、その時間が経過したメッセージをしていきます。
- 10分に1回Tasksを回しています。

## bath.py

`/bath`

- ニックネームの先頭に🛀絵文字をつけます。
- 🛀がついた状態で同じコマンドを打つと外します。

## card_count.py

`/card`

- スプレッドシートに記録されたユーザーごとの警告カードリアクションの数を返します。

## card_list.py

- コメントに指定した特定の絵文字でリアクションがあると、スプレッドシートにユーザー名などを保存します。
- これは特に悪い意味では使われておらず、いい意味で使われています。

## currency.py

pisという架空の通貨機能一式です。

`/getbonus`

- 1度限りの初期軍資金をもらえます。

`/wallet {@mention}`

- 指定したユーザーの所持金を確認できます。
- 指定しない場合は自分の所持金が確認できます。

`/pay {amount} {@mention}`

- 指定したユーザーに指定した金額を送金できます。

`/rich`

- お金持ちランキングを表示します。

`/resetcurrency`

- DBのテーブルをまっさらにします。
- サーバー管理者のみ実行可能。

`/givebonus {@mention}`

- 指定したユーザーに初期軍資金を無理やり与えます。
- サーバー管理者のみ実行可能。

`/setmoney {amount} {bonus_flag} {@mention}`

- 指定したユーザーに指定した金額を設定します。
- bonus_flag 0 or 1 でボーナスを受け取ったかどうかの設定も可能です。
  - 0: ボーナスを受け取っていない
  - 1: ボーナスを受け取っている
- サーバー管理者のみ実行可能。

## delete_image.py

- WIP

## dice.py

`/dice`

- Valorantのマップをランダムに返します。

## gakigo.py

- スラッシュコマンドではなく指定したサーバー内の絵文字のみの投稿をすると決まったレスポンスをします。
- 一人のユーザーが切望してきたために作った機能です。

## happy_new_year.py

`/hny`

- おみくじ機能です。
- 年始のみ動かしています。

## marimo.py

`/mt`

- アメリカ東海岸の現在時刻を返します。

## message_count.py

`/count`

- コマンドを打ち込んだチャンネルの現在のメッセージ数を返します。

`/countall`

- 指定した複数チャンネルの現在の合計メッセージ数を返します。

## ping.py

`/ping`

- Botの応答速度を返します。

## play.py

`/play`

- 指定したディレクトリに保存したmp3ファイルをffmpegを使ってVC内で再生します。
- スラッシュコマンド切り替わりのタイミングで実装がイマイチになったので、現在は切り離して使用していません。
- 使用するためにはDockerfileのコメントアウトを外してください。

## purge.py

`/purge {amount}`

- コマンドを打ち込んだチャンネルのメッセージを指定した数だけ一気に削除します。

## save_image.py

- 指定した絵文字で画像やファイルが添付されたチャットにリアクションすると、指定したGoogle Driveにそのファイルを保存します。

## spotify.py

`/spotify {serch_type} {keyword}`

- SpotifyのAPIを使って検索を行い、結果を返します。
- 特に曲情報はフロントには公開されていない細かい情報が取れます。

## store.py

`/store`

- ValorantのStoreのアイテムを返します。
- ユーザーのRiotのパスワードなどをDBで保つ必要があり、セキュリティ上の自信がないので、現在は切り離して使用していません。

## text_channel.py

`/top`

- コマンドを打ったチャンネルの先頭メッセージまでジャンプできるボタンを表示させます。

## trigger.py

`/dic {keyword}`

- ユーザーが気楽にカスタムレスポンスを登録するために作った機能です。
- データベースとして使用する指定のスプレッドシートから{keyword}を検索し、結果を返します。

## valorant_api.py

`/vr {name} {tagline}`

- 指定したユーザーのValorantのシーズンごとのコンペティティブの戦績などを返します。

## vc_role.py

- 指定したVCに入っているときだけ指定したロールを付与します。
- VCから出たら該当のロールを外します。
- VCにいる間だけ表示されるチャンネルなどのために使用しています。

## vcwhite.py

- 誰もいないVCに最初の人が入ったときだけ、指定したチャンネルにテキストで通知を送ります。

## what_today.py

`/wt`

- 今日は何の日かWikipediaから取得して返します。

## wt_tasks.py

- 毎朝7時に指定したチャンネルに投稿されます。
- 今日は何の日か、東京地方の降水確率、ドル円相場などを投稿します。
- 10分に1回Tasksを回しています。
